name: OWASP ZAP Scan

on:
  push:
    branches:
      - main

jobs:
  owasp-zap-scan:
    runs-on: ubuntu-latest
    steps:
    # Step 1: Check out the code from the repository
    - name: Checkout Code
      uses: actions/checkout@v3

    # Step 2: Run the ZAP Scan
    - name: ZAP Scan
      uses: zaproxy/action-full-scan@v0.11.0
      with:
        target: 'https://igsglobal.com/our-solutions'
    
    # Step 3: Upload the ZAP report
    - name: Upload ZAP report
      uses: actions/upload-artifact@v3
      with:
        name: zap-scan-report
        path: /zap/wrk/*zap-report*
